[1mdiff --git a/backend/app/blueprints/api/README_rondas_esporadicas.md b/backend/app/blueprints/api/README_rondas_esporadicas.md[m
[1mdeleted file mode 100644[m
[1mindex 3c1d345..0000000[m
[1m--- a/backend/app/blueprints/api/README_rondas_esporadicas.md[m
[1m+++ /dev/null[m
[36m@@ -1,692 +0,0 @@[m
[31m-# APIs de Rondas Espor√°dicas - PWA[m
[31m-[m
[31m-Este documento descreve as APIs para gerenciar rondas espor√°dicas via PWA (Progressive Web App).[m
[31m-[m
[31m-## üìã **Vis√£o Geral**[m
[31m-[m
[31m-As rondas espor√°dicas s√£o registros de entrada e sa√≠da em condom√≠nios espec√≠ficos, permitindo:[m
[31m-- Iniciar e finalizar rondas individualmente[m
[31m-- Validar hor√°rios de entrada/sa√≠da[m
[31m-- Consolidar relat√≥rios por turno[m
[31m-- Integra√ß√£o com sistema existente[m
[31m-[m
[31m-## üîó **Endpoints Dispon√≠veis**[m
[31m-[m
[31m-### **0. Listar Condom√≠nios**[m
[31m-```http[m
[31m-GET /api/condominios[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "condominios": [[m
[31m-    {[m
[31m-      "id": 1,[m
[31m-      "nome": "Residencial A"[m
[31m-    },[m
[31m-    {[m
[31m-      "id": 2,[m
[31m-      "nome": "Condom√≠nio B"[m
[31m-    }[m
[31m-  ],[m
[31m-  "total": 2[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **1. Validar Hor√°rio de Entrada**[m
[31m-```http[m
[31m-POST /api/rondas-esporadicas/validar-horario[m
[31m-```[m
[31m-[m
[31m-**Payload:**[m
[31m-```json[m
[31m-{[m
[31m-  "hora_entrada": "14:30"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "horario_valido": true,[m
[31m-  "mensagem": "Hor√°rio v√°lido",[m
[31m-  "hora_atual": "14:25",[m
[31m-  "hora_informada": "14:30"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **2. Verificar Ronda em Andamento**[m
[31m-```http[m
[31m-GET /api/rondas-esporadicas/em-andamento/{condominio_id}?data_plantao=2025-01-30[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "em_andamento": true,[m
[31m-  "ronda": {[m
[31m-    "id": 1,[m
[31m-    "hora_entrada": "14:30",[m
[31m-    "data_plantao": "2025-01-30",[m
[31m-    "escala_plantao": "06h √†s 18h",[m
[31m-    "turno": "Diurno",[m
[31m-    "observacoes": "In√≠cio da ronda",[m
[31m-    "user_id": 1,[m
[31m-    "supervisor_id": 2[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **3. Iniciar Ronda**[m
[31m-```http[m
[31m-POST /api/rondas-esporadicas/iniciar[m
[31m-```[m
[31m-[m
[31m-**Payload:**[m
[31m-```json[m
[31m-{[m
[31m-  "condominio_id": 1,[m
[31m-  "user_id": 1,[m
[31m-  "data_plantao": "2025-01-30",[m
[31m-  "hora_entrada": "14:30",[m
[31m-  "escala_plantao": "06h √†s 18h",[m
[31m-  "supervisor_id": 2,[m
[31m-  "observacoes": "In√≠cio da ronda"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Ronda iniciada com sucesso!",[m
[31m-  "ronda_id": 1[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **4. Finalizar Ronda**[m
[31m-```http[m
[31m-PUT /api/rondas-esporadicas/finalizar/{ronda_id}[m
[31m-```[m
[31m-[m
[31m-**Payload:**[m
[31m-```json[m
[31m-{[m
[31m-  "hora_saida": "18:00",[m
[31m-  "observacoes": "Finaliza√ß√£o da ronda"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Ronda finalizada com sucesso!"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **5. Atualizar Ronda**[m
[31m-```http[m
[31m-PUT /api/rondas-esporadicas/atualizar/{ronda_id}[m
[31m-```[m
[31m-[m
[31m-**Payload:**[m
[31m-```json[m
[31m-{[m
[31m-  "observacoes": "Nova observa√ß√£o durante a ronda"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Ronda atualizada com sucesso!"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **6. Listar Rondas do Dia**[m
[31m-```http[m
[31m-GET /api/rondas-esporadicas/do-dia/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `GET /api/rondas-esporadicas/do-dia/1/2025-01-30`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "rondas": [[m
[31m-    {[m
[31m-      "id": 1,[m
[31m-      "condominio_id": 1,[m
[31m-      "condominio_nome": "Residencial A",[m
[31m-      "user_id": 1,[m
[31m-      "user_nome": "Jo√£o Silva",[m
[31m-      "supervisor_id": 2,[m
[31m-      "supervisor_nome": "Maria Santos",[m
[31m-      "data_plantao": "2025-01-30",[m
[31m-      "escala_plantao": "06h √†s 18h",[m
[31m-      "turno": "Diurno",[m
[31m-      "hora_entrada": "14:30",[m
[31m-      "hora_saida": "18:00",[m
[31m-      "duracao_formatada": "3h 30min",[m
[31m-      "duracao_minutos": 210,[m
[31m-      "status": "finalizada",[m
[31m-      "observacoes": "Ronda completa",[m
[31m-      "data_criacao": "2025-01-30T14:30:00Z",[m
[31m-      "data_modificacao": "2025-01-30T18:00:00Z"[m
[31m-    }[m
[31m-  ][m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **7. Consolidar Turno**[m
[31m-```http[m
[31m-POST /api/rondas-esporadicas/consolidar-turno/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `POST /api/rondas-esporadicas/consolidar-turno/1/2025-01-30`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "total_rondas": 3,[m
[31m-  "rondas_finalizadas": 3,[m
[31m-  "duracao_total_minutos": 630,[m
[31m-  "relatorio": "RELAT√ìRIO DE RONDAS ESPOR√ÅDICAS - Residencial A\nData: 30/01/2025\nTotal de Rondas: 3\nRondas Finalizadas: 3\nDura√ß√£o Total: 630 minutos\n\nRonda 1:\n  Entrada: 14:30\n  Sa√≠da: 18:00\n  Dura√ß√£o: 3h 30min\n  Status: finalizada\n  Observa√ß√µes: Ronda completa\n\n..."[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **8. Detalhes da Ronda**[m
[31m-```http[m
[31m-GET /api/rondas-esporadicas/{ronda_id}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "id": 1,[m
[31m-  "condominio_id": 1,[m
[31m-  "condominio_nome": "Residencial A",[m
[31m-  "user_id": 1,[m
[31m-  "user_nome": "Jo√£o Silva",[m
[31m-  "supervisor_id": 2,[m
[31m-  "supervisor_nome": "Maria Santos",[m
[31m-  "data_plantao": "2025-01-30",[m
[31m-  "escala_plantao": "06h √†s 18h",[m
[31m-  "turno": "Diurno",[m
[31m-  "hora_entrada": "14:30",[m
[31m-  "hora_saida": "18:00",[m
[31m-  "duracao_formatada": "3h 30min",[m
[31m-  "duracao_minutos": 210,[m
[31m-  "status": "finalizada",[m
[31m-  "observacoes": "Ronda completa",[m
[31m-  "log_bruto": null,[m
[31m-  "relatorio_processado": null,[m
[31m-  "data_criacao": "2025-01-30T14:30:00Z",[m
[31m-  "data_modificacao": "2025-01-30T18:00:00Z"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-## üîß **Valida√ß√µes**[m
[31m-[m
[31m-### **Hor√°rio de Entrada**[m
[31m-- Toler√¢ncia padr√£o: 30 minutos[m
[31m-- Compara com hor√°rio atual do sistema[m
[31m-- Retorna aviso se diferen√ßa for muito grande[m
[31m-[m
[31m-### **Ronda em Andamento**[m
[31m-- Apenas uma ronda por condom√≠nio por data[m
[31m-- Status: "em_andamento", "finalizada", "cancelada"[m
[31m-[m
[31m-### **Formato de Dados**[m
[31m-- **Data**: `YYYY-MM-DD` (ex: "2025-01-30")[m
[31m-- **Hora**: `HH:MM` (ex: "14:30")[m
[31m-- **Escala**: "06h √†s 18h" ou "18h √†s 06h"[m
[31m-[m
[31m-## üì± **Uso no PWA**[m
[31m-[m
[31m-### **Fluxo T√≠pico:**[m
[31m-[m
[31m-1. **Selecionar Condom√≠nio**[m
[31m-2. **Validar Hor√°rio de Entrada**[m
[31m-3. **Iniciar Ronda** (se n√£o houver em andamento)[m
[31m-4. **Atualizar Observa√ß√µes** (durante a ronda)[m
[31m-5. **Finalizar Ronda** (com hora de sa√≠da)[m
[31m-6. **Consolidar Turno** (ao final do per√≠odo)[m
[31m-[m
[31m-### **Exemplo de Integra√ß√£o:**[m
[31m-[m
[31m-```javascript[m
[31m-// Validar hor√°rio antes de iniciar[m
[31m-const validarHorario = async (hora) => {[m
[31m-  const response = await fetch('/api/rondas-esporadicas/validar-horario', {[m
[31m-    method: 'POST',[m
[31m-    headers: { 'Content-Type': 'application/json' },[m
[31m-    body: JSON.stringify({ hora_entrada: hora })[m
[31m-  });[m
[31m-  return response.json();[m
[31m-};[m
[31m-[m
[31m-// Iniciar ronda[m
[31m-const iniciarRonda = async (dados) => {[m
[31m-  const response = await fetch('/api/rondas-esporadicas/iniciar', {[m
[31m-    method: 'POST',[m
[31m-    headers: { 'Content-Type': 'application/json' },[m
[31m-    body: JSON.stringify(dados)[m
[31m-  });[m
[31m-  return response.json();[m
[31m-};[m
[31m-```[m
[31m-[m
[31m-## üöÄ **APIs de Consolida√ß√£o**[m
[31m-[m
[31m-### **9. Consolidar e Enviar WhatsApp**[m
[31m-```http[m
[31m-POST /api/rondas-esporadicas/consolidar-e-enviar/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `POST /api/rondas-esporadicas/consolidar-e-enviar/1/2025-01-30`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Consolida√ß√£o realizada com sucesso",[m
[31m-  "whatsapp_enviado": true,[m
[31m-  "ronda_principal_id": 123,[m
[31m-  "total_rondas": 3,[m
[31m-  "duracao_total_minutos": 630,[m
[31m-  "relatorio": "üîÑ RELAT√ìRIO DE RONDAS ESPOR√ÅDICAS..."[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **10. Marcar Rondas como Processadas**[m
[31m-```http[m
[31m-PUT /api/rondas-esporadicas/marcar-processadas/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `PUT /api/rondas-esporadicas/marcar-processadas/1/2025-01-30`[m
[31m-[m
[31m-### **11. Processo Completo**[m
[31m-```http[m
[31m-POST /api/rondas-esporadicas/processo-completo/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Executa:** Consolidar ‚Üí Enviar WhatsApp ‚Üí Marcar como Processadas[m
[31m-[m
[31m-### **12. Status de Consolida√ß√£o**[m
[31m-```http[m
[31m-GET /api/rondas-esporadicas/status-consolidacao/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "data": "2025-01-30",[m
[31m-  "condominio_id": 1,[m
[31m-  "status": {[m
[31m-    "total_rondas_esporadicas": 3,[m
[31m-    "rondas_finalizadas": 3,[m
[31m-    "rondas_processadas": 0,[m
[31m-    "duracao_total_minutos": 630,[m
[31m-    "ronda_principal_criada": false,[m
[31m-    "ronda_principal_id": null,[m
[31m-    "pode_consolidar": true,[m
[31m-    "ja_consolidado": false[m
[31m-  },[m
[31m-  "rondas": [...][m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **13. Estat√≠sticas de Consolida√ß√£o**[m
[31m-```http[m
[31m-GET /api/rondas-esporadicas/estatisticas/{condominio_id}?data_inicio=2025-01-01&data_fim=2025-01-31[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `GET /api/rondas-esporadicas/estatisticas/1?data_inicio=2025-01-01&data_fim=2025-01-31`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Estat√≠sticas obtidas com sucesso!",[m
[31m-  "estatisticas": {[m
[31m-    "periodo": {[m
[31m-      "data_inicio": "2025-01-01",[m
[31m-      "data_fim": "2025-01-31",[m
[31m-      "dias": 31[m
[31m-    },[m
[31m-    "resumo": {[m
[31m-      "total_rondas": 45,[m
[31m-      "rondas_finalizadas": 42,[m
[31m-      "rondas_em_andamento": 3,[m
[31m-      "duracao_total_minutos": 2700,[m
[31m-      "duracao_media_minutos": 60.0,[m
[31m-      "duracao_total_formatada": "45h 0min",[m
[31m-      "duracao_media_formatada": "1h 0min"[m
[31m-    },[m
[31m-    "por_turno": {[m
[31m-      "Diurno": {[m
[31m-        "total": 25,[m
[31m-        "duracao": 1500[m
[31m-      },[m
[31m-      "Noturno": {[m
[31m-        "total": 20,[m
[31m-        "duracao": 1200[m
[31m-      }[m
[31m-    },[m
[31m-    "por_data": {[m
[31m-      "2025-01-15": {[m
[31m-        "total": 3,[m
[31m-        "duracao": 180[m
[31m-      }[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **14. Listar Rondas Executadas**[m
[31m-```http[m
[31m-GET /api/rondas-esporadicas/executadas?condominio_id=1&data_inicio=2025-01-01&data_fim=2025-01-31[m
[31m-```[m
[31m-[m
[31m-**Par√¢metros:**[m
[31m-- `condominio_id` (obrigat√≥rio): ID do condom√≠nio[m
[31m-- `data_inicio` (opcional): Data inicial no formato YYYY-MM-DD[m
[31m-- `data_fim` (opcional): Data final no formato YYYY-MM-DD[m
[31m-[m
[31m-**Exemplo:** `GET /api/rondas-esporadicas/executadas?condominio_id=1&data_inicio=2025-01-01&data_fim=2025-01-31`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Rondas executadas obtidas com sucesso!",[m
[31m-  "rondas": [[m
[31m-    {[m
[31m-      "id": 1,[m
[31m-      "condominio_id": 1,[m
[31m-      "condominio_nome": "Residencial A",[m
[31m-      "data_plantao": "2025-01-15",[m
[31m-      "escala_plantao": "06h √†s 18h",[m
[31m-      "turno": "Diurno",[m
[31m-      "hora_entrada": "08:30:00",[m
[31m-      "hora_saida": "09:15:00",[m
[31m-      "duracao_minutos": 45,[m
[31m-      "duracao_formatada": "45 min",[m
[31m-      "observacoes": "Ronda realizada sem incidentes",[m
[31m-      "status": "finalizada",[m
[31m-      "user_id": 1,[m
[31m-      "supervisor_id": 2,[m
[31m-      "data_criacao": "2025-01-15T08:30:00Z",[m
[31m-      "data_modificacao": "2025-01-15T09:15:00Z"[m
[31m-    }[m
[31m-  ],[m
[31m-  "total": 1,[m
[31m-  "filtros": {[m
[31m-    "condominio_id": 1,[m
[31m-    "data_inicio": "2025-01-01",[m
[31m-    "data_fim": "2025-01-31"[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **15. Estat√≠sticas de Consolida√ß√£o**[m
[31m-```http[m
[31m-GET /api/rondas-esporadicas/estatisticas/{condominio_id}?data_inicio=2025-01-01&data_fim=2025-01-31[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `GET /api/rondas-esporadicas/estatisticas/1?data_inicio=2025-01-01&data_fim=2025-01-31`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Estat√≠sticas obtidas com sucesso!",[m
[31m-  "estatisticas": {[m
[31m-    "periodo": {[m
[31m-      "data_inicio": "2025-01-01",[m
[31m-      "data_fim": "2025-01-31",[m
[31m-      "dias": 31[m
[31m-    },[m
[31m-    "resumo": {[m
[31m-      "total_rondas": 45,[m
[31m-      "rondas_finalizadas": 42,[m
[31m-      "rondas_em_andamento": 3,[m
[31m-      "duracao_total_minutos": 2700,[m
[31m-      "duracao_media_minutos": 60.0,[m
[31m-      "duracao_total_formatada": "45h 0min",[m
[31m-      "duracao_media_formatada": "1h 0min"[m
[31m-    },[m
[31m-    "por_turno": {[m
[31m-      "Diurno": {[m
[31m-        "total": 25,[m
[31m-        "duracao": 1500[m
[31m-      },[m
[31m-      "Noturno": {[m
[31m-        "total": 20,[m
[31m-        "duracao": 1200[m
[31m-      }[m
[31m-    },[m
[31m-    "por_data": {[m
[31m-      "2025-01-15": {[m
[31m-        "total": 3,[m
[31m-        "duracao": 180[m
[31m-      }[m
[31m-    }[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-## üöÄ **APIs de Rondas Regulares (Tradicionais)**[m
[31m-[m
[31m-### **1. Listar Rondas do Dia**[m
[31m-```http[m
[31m-GET /api/rondas/do-dia/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `GET /api/rondas/do-dia/1/2025-01-30`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "rondas": [[m
[31m-    {[m
[31m-      "id": 1,[m
[31m-      "condominio_id": 1,[m
[31m-      "condominio_nome": "Residencial A",[m
[31m-      "data_plantao": "2025-01-30",[m
[31m-      "escala_plantao": "06h √†s 18h",[m
[31m-      "log_bruto": "Log da ronda...",[m
[31m-      "total_rondas": 5,[m
[31m-      "duracao_total_minutos": 300,[m
[31m-      "primeiro_evento_utc": "2025-01-30T06:00:00Z",[m
[31m-      "ultimo_evento_utc": "2025-01-30T18:00:00Z",[m
[31m-      "supervisor_id": 2,[m
[31m-      "supervisor_nome": "Jo√£o Silva",[m
[31m-      "status": "finalizada",[m
[31m-      "data_criacao": "2025-01-30T06:00:00Z",[m
[31m-      "data_modificacao": "2025-01-30T18:00:00Z"[m
[31m-    }[m
[31m-  ],[m
[31m-  "total": 1[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **2. Verificar Ronda em Andamento**[m
[31m-```http[m
[31m-GET /api/rondas/em-andamento/{condominio_id}?data_plantao=2025-01-30[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "em_andamento": true,[m
[31m-  "ronda": {[m
[31m-    "id": 1,[m
[31m-    "inicio": "2025-01-30T06:00:00Z",[m
[31m-    "data_plantao": "2025-01-30",[m
[31m-    "escala_plantao": "06h √†s 18h",[m
[31m-    "turno": "Diurno",[m
[31m-    "observacoes": "Ronda em andamento",[m
[31m-    "user_id": 1,[m
[31m-    "supervisor_id": 2[m
[31m-  }[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **3. Iniciar Ronda**[m
[31m-```http[m
[31m-POST /api/rondas/iniciar[m
[31m-```[m
[31m-[m
[31m-**Payload:**[m
[31m-```json[m
[31m-{[m
[31m-  "condominio_id": 1,[m
[31m-  "data_plantao": "2025-01-30",[m
[31m-  "escala_plantao": "06h √†s 18h",[m
[31m-  "supervisor_id": 2,[m
[31m-  "user_id": 1[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Ronda iniciada com sucesso!",[m
[31m-  "ronda_id": 1[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **4. Finalizar Ronda**[m
[31m-```http[m
[31m-PUT /api/rondas/finalizar/{ronda_id}[m
[31m-```[m
[31m-[m
[31m-**Payload:**[m
[31m-```json[m
[31m-{[m
[31m-  "log_bruto": "Log final da ronda",[m
[31m-  "observacoes": "Observa√ß√µes finais"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Ronda finalizada com sucesso!"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **5. Atualizar Ronda**[m
[31m-```http[m
[31m-PUT /api/rondas/atualizar/{ronda_id}[m
[31m-```[m
[31m-[m
[31m-**Payload:**[m
[31m-```json[m
[31m-{[m
[31m-  "log_bruto": "Log atualizado",[m
[31m-  "observacoes": "Nova observa√ß√£o"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Ronda atualizada com sucesso!"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **6. Gerar Relat√≥rio**[m
[31m-```http[m
[31m-POST /api/rondas/gerar-relatorio/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `POST /api/rondas/gerar-relatorio/1/2025-01-30`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Relat√≥rio gerado com sucesso!",[m
[31m-  "relatorio": "RELAT√ìRIO DE RONDA - Residencial A\nData: 30/01/2025\nEscala: 06h √†s 18h\nStatus: finalizada\n\nLog Bruto:\nLog da ronda...\n\nObserva√ß√µes:\nObserva√ß√µes da ronda"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **7. Enviar WhatsApp**[m
[31m-```http[m
[31m-POST /api/rondas/enviar-whatsapp/{condominio_id}/{data}[m
[31m-```[m
[31m-[m
[31m-**Exemplo:** `POST /api/rondas/enviar-whatsapp/1/2025-01-30`[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "message": "Relat√≥rio preparado para envio via WhatsApp!",[m
[31m-  "relatorio": "üîÑ RELAT√ìRIO DE RONDA - Residencial A\nüìÖ Data: 30/01/2025\n‚è∞ Escala: 06h √†s 18h\nüìä Status: finalizada\n\nüìù Log:\nLog da ronda...\n\nüí¨ Observa√ß√µes:\nObserva√ß√µes da ronda"[m
[31m-}[m
[31m-```[m
[31m-[m
[31m-### **8. Detalhes da Ronda**[m
[31m-```http[m
[31m-GET /api/rondas/{ronda_id}[m
[31m-```[m
[31m-[m
[31m-**Resposta:**[m
[31m-```json[m
[31m-{[m
[31m-  "sucesso": true,[m
[31m-  "ronda": {[m
[31m-    "id": 1,[m
[31m-    "condominio_id": 1,[m
[31m-    "condominio_nome": "Residencial A",[m
[31m-    "data_plantao": "2025-01-30",[m
[31m-    "escala_plantao": "06h √†s 18h",[m
[31m-    "log_bruto": "Log da ronda...",[m
[31m-    "total_rondas": 5,[m
[31m-    "duracao_total_minutos": 300,[m
[31m-    "primeiro_evento_utc": "2025-01-30T06:00:00Z",[m
[31m-    "ultimo_evento_utc": "2025-01-30T18:00:00Z",[m
[31m-    "supervisor_id": 2,[m
[31m-    "supervisor_nome": 